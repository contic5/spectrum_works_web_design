<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Snowman Drawing</title>
        <link href="mystyle.css" type='text/css' rel='stylesheet'>
    </head>
    <body>
    <h1>Snowman Drawing</h1>
    <canvas id="mycanvas" width="500" height="500">
    
    </canvas>
    <script>
    class Snowflake
    {
        static yspeeds=[7,10,15,20,20];
        static xspeeds=[3,5,8,15,20];
        static speedindex=1;
        constructor(x,y)
        {
            this.x=x;
            this.y=y;
        }
        move()
        {
            this.y+=Snowflake.yspeeds[Snowflake.speedindex];
            this.x+=Snowflake.xspeeds[Snowflake.speedindex];
            if(this.y>c.height)
            {
                this.y=0;
            }
            if(this.x>c.width)
            {
                this.x=0;
            }
        }
        draw()
        {
            ctx.fillStyle="#fffafa";
            ctx.beginPath();
            ctx.arc(this.x,this.y,10,0,2*Math.PI);
            ctx.fill();
            ctx.closePath();
        }
    }
    function clear()
    {
        ctx.fillStyle="#CCCCFF";
        ctx.fillRect(0,0,c.width,c.height); 
    }
    function drawsnowman()
    {
    ctx.fillStyle="##fffafa";
    //Body and Face
    ctx.beginPath();
    ctx.arc(250,400,100,0,2*Math.PI);
    ctx.fill();
    ctx.closePath();
        
    ctx.beginPath();
    ctx.arc(250,300,75,0,2*Math.PI);
    ctx.fill();
    ctx.closePath();
        
    ctx.beginPath();
    ctx.arc(250,200,50,0,2*Math.PI);
    ctx.fill();
    ctx.closePath();
    
    //Eyes and Mouth
    ctx.fillStyle="#000000";
    ctx.beginPath();
    ctx.arc(230,190,10,0,2*Math.PI);
    ctx.fill();
    ctx.closePath();
        
    ctx.beginPath();
    ctx.arc(270,190,10,0,2*Math.PI);
    ctx.fill();
    ctx.closePath();
        
    ctx.beginPath();
    ctx.arc(250,210,20,0,1*Math.PI);
    ctx.fill();
    ctx.closePath();
        
    ctx.fillRect(190,150,120,20);
    ctx.fillRect(210,100,80,70);

    //Animation
    ctx.fillStyle="#966F33";
    /*
    //TO DO DETERMINE HOW ROTATE WORKS 
    ctx.translate(250, 300);
    ctx.rotate(30*Math.PI/180);
    ctx.fillRect(-200,0,150,20);
    ctx.rotate(-30*Math.PI/180);
    ctx.translate(-250, -300);
    
    ctx.translate(250, 300);
    ctx.rotate(-30*Math.PI/180);
    ctx.fillRect(40,0,150,20);
    ctx.rotate(30*Math.PI/180);
    ctx.translate(250, 300);
    */
        
    ctx.fillRect(75,275,150,20);
    ctx.fillRect(275,275,150,20);
    }
    function draw()
    {
        clear();
        for(let i=0;i<snowflakes.length;i++)
        {
            snowflakes[i].move();
        }
        for(let i=0;i<snowflakes.length;i++)
        {
            snowflakes[i].draw();
        }
        drawsnowman();
    }
    let c=document.getElementById("mycanvas");
    let ctx=c.getContext("2d");
    
    let snowflakes=[];
    let offset=0;
    let snoflakesperrow=10; 
    let dis=c.width/snoflakesperrow;
    let offsetmult=dis/2;
    for(let i=0;i<snoflakesperrow;i++)
    {
        for(let j=0;j<snoflakesperrow;j++)
        {
            offset=(j%2)*offsetmult;
            snowflakes.push(new Snowflake(dis*i+12+offset,dis*j));
        }
    }
    setInterval(draw,50);
    </script>
    </body>
</html>